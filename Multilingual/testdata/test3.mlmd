.languages fr,en main=en
.numbering 1:.((Chapter .)).fr((Chapitre .)):&I:-,2::1:.,3::1

# Multilingual Markdown Generator .fr((Générateur de Markdown Multilingue .)).all((MLMD.))

MLMD is a PHP 7 script which generates one or more Markdown files for a set of declared languages
from one or more multilingual Markdown template files, using directives in the templates to distinguish
each language parts.
.fr((MLMD est un script PHP 7 qui génère des fichiers Markdown dans plusieurs
langues à partir de modèles multilingues, grâce à des directives placées dans les modèles
pour distinguer les parties propres à chaque langue..))

MLMD is a convenient way of keeping the documentation structure in unique files without having
to duplicate them for each target language, and permits the translation by different authors while
keeping the file in a shared place. Being text files, the MLMD multilingual templates work well with
versioning systems like Git.
.fr((MLMD est un moyen simple pour conserver la structure d'une documentation
dans des fichiers uniques sans avoir à les dupliquer pour chaque langue, et facilite la rédaction
par plusieurs traducteurs se partageant les fichiers. Les fichiers textes des modèles multilingues
s'utilisent facilement avec les systèmes de contrôle de version comme Git.))

MLMD can add a Table Of Content in the generated Markdown files and number headings in all files
and in tables of Content. Table of contents can be global and include headings from all the input files,
or they can be local to ine input file.
.fr((MLMD peut ajouter des tables des matières et numéroter
les titres dans les fichiers et les tables des matières. Une table des matières peut être globale et
inclure les titres de tous les fichiers en entrée, ou locale à un fichier..))

The user has full control over the generated languages, the table of content generation and the
headings numbering scheme.
.fr((L'utilisateur peut contrôler les langues, la génération des tables des matières et le schéma
de numérotation des titres..))

.{supprimé pour tests plus rapide, à remettre
.toc title=.((Table Of Contents.)).fr((Sommaire.)) level=2-3
.}

## Installation



MLMD consists of a main script `mlmd.php` and a few dependencies files. The script and its
dependancies files can be put anywhere at user choice.
.fr((MLMD est constitué d'un script principal `mlmd.php` et de dépendances. Le script et ses
dépendances peuvent être placés dans n'importe quel répertoire accessible à l'utilisateur..))

### PHP version.fr((Version PHP.))

MLMD has been tested with PHP 7.3 CLI version.
.fr((MLMD a été testé avec PHP 7.3 CLI..))

To make sure PHP is accessible from a command line type the following command:
.fr((Pour vérifier que PHP est accessible depuis une ligne de commande tapez la commande suivante :.))

```code
php -v
```

It should display something like:
.fr((Elle doit afficher des lignes similaires aux suivantes :.))

```code
PHP 7.3.20 (cli) (built: Jul  9 2020 23:50:54) ( NTS )
Copyright (c) 1997-2018 The PHP Group
Zend Engine v3.3.20, Copyright (c) 1998-2018 Zend Technologies
    with Zend OPcache v7.3.20, Copyright (c) 1999-2018, by Zend Technologies
```

The directory where the PHP installation and its setting files lie can be displayed with `php --ini`.
.fr((Le répertoire d'installation de PHP et de ses fichiers de configuration peut être affiché avec
la commande `php --ini`..))


PHP 7.2 may work but have not been tested. The Multibyte extension (mb) is needed but should not
imply a specific setting as it should be embedded in standard PHP 7.3 distributions.
.fr((PHP 7.2 peut fonctionner mais n'a pas été testé. L'extension MultiByte (mb) est utilisée mais
ne nécessite pas de réglage particulier car elle est intégrée par défaut dans les distributions
standards de PHP 7..))

### Storing MLMD .fr((Emplacement de MLMD.))

The PHP script and its dependencies must be put in a directory with easy user access, e.g.:
.fr((Le script et ses dépendances doivent se situer dans un répertoire accessible à l'utilisateur, par exemple :.))

.all((
- `~/phpscripts` .((on.)).fr((sur.)) macOS/Linux
- `%HOMEDRIVE%%HOMEPATH%\phpscripts` .((on.)).fr((sur.)) Windows
.))

Parameters that can be passed to the script are described in [How To Use MLMD](#how-to-use-mlmd)
.fr((Les paramètres du script sont décrits dans la partie [Utilisation de MLMD](#utilisation-de-mlmd).))

### .((Using an alias to launch MLMD.)).fr((Utilisation d'un alias pour lancer MLMD.))

.((This is optional and allows to type `mlmd` as if it were a command of the Operating System or
command shell. Without aliases, the script must be launched by typing `php <your_path_to_mlmd>/mlmd.php`..))
.fr((Ce qui suit est facultatif mais permet d'utiliser le script MLMD comme s'il était une commande
du système d'exploitation. Sans les alias, le script doit être exécuté en tapant `php <chemin>/mlmd.php`
avec le chemin où ont été stockés le script et ses dépendances..))

.((The commands detailed in the following examples must be adapted to the directory where the script has
been stored..)).fr((Les commandes indiquées ci-après doivent être adaptées pour le répertoire où se situe
le script..))

#### Linux / macOS / OS X

* .((The following alias command must be put in the shell startup script (most likely `~/.bashrc`, `~/.zshrc`
etc):.)).fr((La commande suivante peut être placée dans le script de démarrage du shell (en général `~/.bashrc`,
`~/.zshrc` etc) :.))

```code
alias mlmd=php ~/phpscripts/mlmd.php
```

#### Windows 10

* .((A text file must be created (e.g. using NOTEPAD.EXE) containing the following line:.))
.fr((Un fichier texte doit être créé - par exemple avec le Bloc Note - contenant la ligne suivante :.))

```code
doskey mlmd=php %HOMEDRIVE%%HOMEPATH%\phpscripts\mlmd.php $*
```

* .((The file can be saved as `MLMD.CMD`or `mlmd.cmd` (letters case is ignored by Windows.) on the Desktop
or any user accessible directory..)).fr((Le fichier est enregistré sous le nom `MLMD.CMD` ou `mlmd.cmd`
(Windows ne différencie pas minuscules et majuscules dans les noms de fichiers.) sur le bureau ou dans
n'importe quel répertoire accessible à l'utilisateur..))
* .((A shortcut to this CMD file must be created (right-click on file in Explorer, then create shortcut)..))
.fr((Un raccourci vers ce fichier est créé par un clic de droite suivi de la commande *Créer un raccourci*..))
* .((The `shell:startup` directory must be opened (by hitting the *Windows* and *R* keys together and typing
`shell:startup`)..)).fr((Le répertoire `shell:startup` est ouvert en tapant les touches *Windows* et *R* puis
en tapant `shell:startup`..))
* .((The shortcut must be moved from its directory to this startup directory..)).fr((Le raccourci créé à
l'étape précédente est déplacé vers le répertoire startup..))
* .((Windows must be restarted..)).fr((Windows doit être redémarré..))

.((From then on, the `mlmd` alias is available in any command line box as a normal command..))
.fr((A partir de ce moment, l'alias `mlmd` est disponible dans les invites de commande.))

.((This method may work with earlier versions of Windows but they have not been tested..))
.fr((Cette méthode peut fonctionner avec des versions antérieures de Windows mais celles=ci
n'ont pas été testées..))

## .((How to Use MLMD.)).fr((Utilisation de MLMD.))

.((MLMD is run by the php interpreter and either receives parameters telling it which templates files to process,
either processes all the template files it finds in the current directory from where it has been launched..))
.fr((MLMD est exécuté par l'interpréteur PHP et reçoit des paramètres qui lui indiquent les fichiers à traiter
ou explore le répertoire actuel et ses sous-répertoires pour localiser les fichiers à traiter..))

.((Optional parameters tells mlmd where to write generated files, how to number headings or write links..))
.fr((D'autres paramètres indiquent à MLMD où placer les ficheirs générés, comment numéroter les titres
ou écrire les liens..))

### .((MLMD run parameters.)).fr((Paramètres d'exécution MLMD.))

.((The syntax for `mlmd.php` and its arguments is:.))
.fr((La syntaxe pour `mlmd.php` et ses paramètres est la suivante :.))

.((
```code
php <path-to-mlmd>mlmd.php [parameters]
parameters: 
    [-i <file_path> [...]]
    [-main <file_path>]
    [-out html|htmlold|md|mdpure]
    [-numbering <numbering_scheme>]
    [-od <path>]
```
.)).fr((
```code
php <chemin-de-mlmd>mlmd.php [paramètres]
paramètres :
    [-i <chemin_fichier> [...]]
    [-main <chemin_fichier>]
    [-out html|htmlold|md|mdpure]
    [-numbering <schéma_numérotation>]
    [-od <chemin>]
```
.))

.((If an alias has been set up, there's no need to explicitely call `php` or give the full path of MLMD script..))
.fr((Si un alias a été créé, il est inutile d'appeler explicitement l'interpréteur php ou de donner
le chemin complet du script MLMD..))

.((The input files can be given to the script with the `-i` parameter, or they can be found in the current directory
from where the script is called if not `-i` parameter is used. This is explained in [Input files](#input-files--i-argument)..))
.fr((Les fichiers sources peuvent être spécifiés avec le paramètre `-i`, ou bien ils peuvent être trouvés
automatiquement par le script si aucun `-i` n'est spécifié. Cela est décrit dans [Fichiers sources](#fichiers-sources-parametre--i).))

### .((Source file pathes and names.)).fr((Chemin des fichiers sources.))

.((The files names for the MLMD source files must end with `.base.md` or `.mlmd` extension. Files with other extensions
will be ignored. The `.base.md` extension can be convenient because syntax highlighting and Markdown previewing will work
in most editors, however the MLMD templates are not actual Markdown files and do not fully conform to Markdown syntax so
this can lead to some confusion. The `.mlmd` extension is more explicit and makes it clear that the files are MLMD templates
rather than variants of Markdown files, and text editors can generally be configured to recognized MLMD syntax..))
.fr((.Le noms des fichiers sources MLMD doivent posséder l'extension `.base.md`ou `.mlmd`. Les fichiers avec une extension
différente seront ignorés par MLMD. L'extension `.base.md` peut être pratique car la coloration syntaxique Markdown
fonctionnera dans la plupart des éditeurs de texte pour la majorité des fichiers, toutefois les fichiers sources MLMD ne
sont pas réellement des fichiers Markdown, ce qui peut mener à une certaine confusion lors de l'édition. L'extension `.mlmd`
est plus explicite et montre clairement que les fichiers sont à destination de MLMD, et les éditeurs de texte peuvent
généralement être paramétrés pour reconnaitre la syntaxe MLMD..))

.((When no source files parameter (`-i`) is given to the script, MLMD will explore the directory tree where it starts
and generate files for all the templates it finds and the languages declared in them. The generated files will be put
in the same directory as their source template..))
.fr((Lorsqu'aucun paramètre `-i` n'est fourni, MLMD explore le répertoire de départ et génère des fichiers pour chacun des
fichiers `.mlmd` ou `.base.md` qu'il y trouvera, en respectant la même hiérarchie de répertoires..))

.((The `-main` parameter sets the main input file and the root directory for all relative links in the generated files:
the directory of this main file will be considered as the root directory for all other files. For consistency, no other
file should lie above this root directory or in a directory outside the tree under this root, so that all internal links
in generated files can use relative pathes..))
.fr((Le paramètre `-main` indique le fichier principal et le répertoire racine pour tous les liens relatifs qui
seront placés dans les fichiers générés. Le répertoire de ce fichier est considéré comme la racine de la hiérarchie de
l'ensemble des fichiers. Aucun fichier situé au dessus de ce répertoire ou dans une autre branche ne sera retenu, et
tous les liens et noms de fichiers ou de répertoires seront relatifs à cette racine..))

.((The various directives are described in.)).fr((les différentes directives sont décrites dans la partie.)) [Directives](#directives).
